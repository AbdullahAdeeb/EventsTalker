<ons-sliding-menu id="event_slider" main-page="event.chat" menu-page="event.slider" side="right" type="push" max-slide-distance="50%" var="event_slider" on-preclose="sliderPostclose" ons-postclose="sliderPostclose" ons-preopen="sliderPreopen" ons-postclose="sliderPreclose"></ons-sliding-menu> <!-------------------------> <!-- Event Slider --> <!-------------------------> <ons-template id="event.slider"> <ons-list> <ons-scroller> <ons-list-item modifier="chevron" ng-click="event_slider.setMainPage('event.info', {closeMenu: true})"> <ons-icon icon="ion-clipboard"></ons-icon>&nbsp;&nbsp; Info </ons-list-item> <ons-list-item modifier="chevron" ng-click="event_slider.setMainPage('event.chat', {closeMenu: true})"> <ons-icon icon="ion-chatboxes"></ons-icon>&nbsp;&nbsp;Chat </ons-list-item> <ons-list-item modifier="chevron" ng-click="event_slider.setMainPage('event.map', {closeMenu: true})"> <ons-icon icon="ion-map"></ons-icon>&nbsp;&nbsp;Map </ons-list-item> <ons-list-item modifier="chevron" ng-click="event_slider.setMainPage('event.members', {closeMenu: true})"> <ons-icon icon="ion-ios-people"></ons-icon>&nbsp;&nbsp;Members </ons-list-item> <ons-list-item modifier="chevron" ng-click="event_slider.setMainPage('event.placeholder', {closeMenu: true})"> <ons-icon icon="fa-question-circle"></ons-icon>&nbsp;&nbsp;Polls </ons-list-item> <ons-list-item modifier="chevron" ng-click="event_slider.setMainPage('event.placeholder', {closeMenu: true})"> <ons-icon icon="ion-images"></ons-icon>&nbsp;&nbsp;Media share </ons-list-item> <ons-list-item modifier="chevron" ng-click="event_slider.setMainPage('event.placeholder', {closeMenu: true})"> <ons-icon icon="ion-card"></ons-icon>&nbsp;&nbsp;Pay share </ons-list-item> <ons-list-item modifier="chevron" ng-click="event_slider.setMainPage('event.settings', {closeMenu: true})"> <ons-icon icon="ion-android-options"></ons-icon>&nbsp;&nbsp;Settings </ons-list-item> </ons-scroller> </ons-list> </ons-template> <!-------------------------> <!-- Info List --> <!-------------------------> <ons-template id="event.info"> <ons-page> <ons-toolbar> <div class="left"> <ons-toolbar-button ng-click="$location.path('/')"> <ons-icon icon="ion-ios-arrow-back" style="font-size: 32px; width: 1em"></ons-icon> </ons-toolbar-button> </div> <div class="center">{{event.meta.name}}</div> <div class="right"> <ons-toolbar-button ng-click="event_slider.toggleMenu();"> <ons-icon icon="ion-navicon-round" style="vertical-align: -4px; font-size: 32px"></ons-icon> </ons-toolbar-button> </div> </ons-toolbar> <h2>info</h2> <p>{{event.meta}}</p> </ons-page> </ons-template> <!-------------------------> <!-- Chat Messages List --> <!-------------------------> <ons-template id="event.chat"> <ons-page class="event-chat"> <ons-toolbar> <div class="left"> <ons-toolbar-button ng-click="$location.path('/')"> <ons-icon icon="ion-ios-arrow-back" style="font-size: 32px; width: 1em"></ons-icon> </ons-toolbar-button> </div> <div class="center">{{event.meta.name}}</div> <div class="right"> <ons-toolbar-button ng-click="event_slider.toggleMenu();"> <ons-icon icon="ion-navicon-round" style="vertical-align: -4px; font-size: 32px"></ons-icon> </ons-toolbar-button> </div> </ons-toolbar> <!-- <h2>Chat</h2> --> <p class="alert alert-danger" ng-show="err">{{err}}</p> <ons-list> <!-- <ons-scroller style="height: 85vh; width: 100%"> --> <ons-list-item ng-class="getMessageClass(message)" ng-repeat="message in event.messages" class="animate-enter"> <div class="message-username" ng-hide="message.from == myId || message.from=='info'"> {{message.fromUsername}}: </div> <div class="message-content">{{message.message}}</div> <div class="message-time"> {{formatDate(message.time)}}</div> </ons-list-item> <!-- </ons-scroller> --> </ons-list> <ons-bottom-toolbar class="chat-bottom-toolbar"> <input class="message-input" placeholder="Message..." ng-model="newMessage"> <ons-button class="message-send-button" type="submit" ng-click="sendMessage(newMessage);newMessage = null;"> <ons-icon icon="ion-paper-airplane"></ons-icon> </ons-button> </ons-bottom-toolbar> </ons-page> </ons-template> <!-------------------------> <!-- Members List --> <!-------------------------> <ons-template id="event.members"> <ons-page> <ons-toolbar> <div class="left"> <ons-toolbar-button ng-click="$location.path('/')"> <ons-icon icon="ion-ios-arrow-back" style="font-size: 32px; width: 1em"></ons-icon> </ons-toolbar-button> </div> <div class="center">{{event.meta.name}}</div> <div class="right"> <ons-toolbar-button ng-click="event_slider.toggleMenu();"> <ons-icon icon="ion-navicon-round" style="vertical-align: -4px; font-size: 32px"></ons-icon> </ons-toolbar-button> </div> </ons-toolbar> <ons-list> <h2>members</h2> <ons-list-item ng-repeat="(id,member) in event.meta.members" ng-click="openProfile(id);" class="list-item-container"> <div class="left"> <img src="images/yeoman.42092f92.png" class="avator"> </div> <div class="center"> <div class="list-item-content"> <div class="name">{{member}} </div> <span class="desc">{{id}}</span> </div> </div> </ons-list-item> <div ng-show="isShowInvited()" class="ng-hide"> <ons-list-header> Invited </ons-list-header> <ons-list-item ng-repeat="(id,member) in event.invited" ng-click="openProfile(id);" class="list-item-container"> <div class="left"> <img src="images/yeoman.42092f92.png" class="avator"> </div> <div class="center"> <div class="list-item-content"> <div class="name">{{member}} </div> <span class="desc">{{id}}</span> </div> </div> </ons-list-item> </div> </ons-list> <!-- <ons-if platform="firefox safari chrome ie edge android"> --> <ons-button class="fab" ng-click="dialog.show()"> + </ons-button> <!-- </ons-if> --> </ons-page> <ons-dialog var="dialog" cancelable style="height: 80vh; width: 80vw"> <ons-toolbar> <div class="center"> <input type="text" placeholder="Filter" id="query" ng-model="query"> </div> <div class="right"> <ons-toolbar-button ng-click="dialog.hide()"> <ons-icon icon="fa-times" style="font-size: 32px; width: 1em"></ons-icon> </ons-toolbar-button> </div> </ons-toolbar> <ons-list style="margin-top:56px"> <!-- <on-scrollable style="height:80vh;"> --> <ons-list-item ng-repeat="(id,username) in friends.list | friendsFilter:query" modifier="tappable"> <label class="list__item__left"> <label class="checkbox checkbox--list-item"> <input type="checkbox" checklist-model="invites" checklist-value="id" class="checkbox__input"> <div class="checkbox__checkmark checkbox--list-item__checkmark"></div> {{username}} </label> </label> </ons-list-item> <!-- </on-scrollable> --> </ons-list> <ons-button style="bottom: 0px;position: absolute;width: 100%;font-size: 1.5em;padding: 5px" ng-click="inviteMembers()">Invite</ons-button> </ons-dialog> </ons-template> <!-------------------------> <!-- Event Settings List --> <!-------------------------> <ons-template id="event.settings"> <ons-page> <ons-toolbar> <div class="left"> <ons-toolbar-button ng-click="$location.path('/')"> <ons-icon icon="ion-ios-arrow-back" style="font-size: 32px; width: 1em"></ons-icon> </ons-toolbar-button> </div> <div class="center">{{event.meta.name}}</div> <div class="right"> <ons-toolbar-button ng-click="event_slider.toggleMenu();"> <ons-icon icon="ion-navicon-round" style="vertical-align: -4px; font-size: 32px"></ons-icon> </ons-toolbar-button> </div> </ons-toolbar> <h2>settings</h2> </ons-page> </ons-template> <!-------------------------> <!-- Event Map Page      --> <!-------------------------> <ons-template id="event.map"> <ons-page ng-init="loadMap()"> <ons-toolbar> <div class="left"> <ons-toolbar-button ng-click="$location.path('/')"> <ons-icon icon="ion-ios-arrow-back" style="font-size: 32px; width: 1em"></ons-icon> </ons-toolbar-button> </div> <div class="center">{{event.meta.name}}</div> <div class="right"> <ons-toolbar-button ng-click="event_slider.toggleMenu();"> <ons-icon icon="ion-navicon-round" style="vertical-align: -4px; font-size: 32px"></ons-icon> </ons-toolbar-button> </div> </ons-toolbar> <div style="width: 100%; height: 100%" id="mapContainer"></div> </ons-page> </ons-template> <!-------------------------> <!-- Placholder  - Coming soon--> <!-------------------------> <ons-template id="event.placeholder"> <ons-page> <ons-toolbar> <div class="left"> <ons-toolbar-button ng-click="$location.path('/')"> <ons-icon icon="ion-ios-arrow-back" style="font-size: 32px; width: 1em"></ons-icon> </ons-toolbar-button> </div> <div class="center">{{event.meta.name}}</div> <div class="right"> <ons-toolbar-button ng-click="event_slider.toggleMenu();"> <ons-icon icon="ion-navicon-round" style="vertical-align: -4px; font-size: 32px"></ons-icon> </ons-toolbar-button> </div> </ons-toolbar> <h2>Coming Soon</h2> </ons-page> </ons-template>